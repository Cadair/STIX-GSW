<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/css" href="ppl_config.css" ?>
<!-- 
<header>

</header> 
-->
<configuration application="stx_flight_software_simulator" type="system">
	<section name="global" alias="">
		<description>Global</description>
		<parameter name="debug" default="0b" valid="ppl_xml_value_is_boolean(X)" type="byte">
			<description>Turns debugging behaviour on or off.</description>
		</parameter>
		<parameter name="stop_on_error" default="0b" valid="ppl_xml_value_is_boolean(X)" type="byte">
			<description>If set to 1, the program will stop where an error has occurred. If set to 0, the program will return to %main.</description>
		</parameter>
		<parameter name="math_error_level" default="1b" valid="ppl_xml_value_in_array_test(X,[0b,1b,2b])" type="byte">
			<description>This parameter control how IDL should react to math errors (over/underflows, divisions by zero, etc.). See "!EXCEPT" in "Error Handling System Variables" in the IDL help.</description>
		</parameter>
		<parameter name="base_frequency" default="4d" valid="X gt 0" type="double">
			<description>This parameter is used to control the internal clock, i.e. the time bin size for reading data in from the Data Simulation</description>
		</parameter>
		<parameter name="plotting" default="0b" valid="ppl_xml_value_is_boolean(X)" type="byte">
			<description>This parameter controls the plotting output (on or off)</description>
		</parameter>
	</section>
	<section name="stx_fsw_module_accumulate_calibration_spectrum" alias="acs">
		<description>This procedure create a calibration spectrum by accumulation of photons, and calculate the live time associated with this accumulation. The criteria for selecting 'background photons' to accumulate is a criteria on the time interval between the considered event and the previous one. This time interval has to be smaller than the value specified by Tq.</description>
		<link>https://www.dropbox.com/s/7l1vn8uhs8grixy/FSWenergyCalibration20130625.docx</link>
		<parameter name="tq" default="0.005d" valid="X ge 0" type="double">
			<description>Time interval that separates to events.</description>
			<unit>seconds</unit>
			<value>0d</value>
		</parameter>
		<parameter name="ts" default="0d" valid="X ge 0" type="double">
			<description>Time interval for software gate. Assuming a constant time the software is busy upon processing a calibration event.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency" default="18d * 60d * 60" valid="X gt 0" type="double">
			<description>Time in seconds after which the calibration spectrum is cleared</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="active_detectors" default="bytarr(32)+1b" valid="n_elements(X) eq 32 and ppl_xml_value_is_boolean(X)" type="byte_array">
			<description>This is a 32 element byte array containing 0s or 1s. Element 0 corresponds to detector 1, element 31 to detector 32. A 0 mask entry will prevent the correpondings detector's counts from being included in the calibration spectrum.</description>
			<unit>32-element mask, mask index 0 relates to detector id 1</unit>
		</parameter>
		<parameter name="exclude_bad_detectors" default="1b" valid="ppl_xml_value_is_boolean(X)" type="byte">
			<description>Setting this flag to 1 will cause the active_detectors to be activated. Conversely, a 0 will cause the calibration accumulation routine to include all detectors, regardless if they are set as active or not.</description>
		</parameter>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
	</section>
	<section name="stx_fsw_module_ad_temperature_correction" alias="atc">
		<description>This function apply the temperature correction for each pixel and each detector on the energy in A/D for each event of an event list.</description>
		<link>https://www.dropbox.com/s/7l1vn8uhs8grixy/FSWenergyCalibration20130625.docx</link>
		<parameter name="temperature_correction_table_file" default="concat_dir(getenv('STX_DET'), 'stx_temperature_correction.csv')" valid="file_exist(X)" type="string">
			<description>The file path to the temperature correction table</description>
		</parameter>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
	</section>
	<section name="stx_fsw_module_convert_science_data_channels" alias="csc">
		<description>This procedure provides a timed and calibrated event list with the science enegy bin</description>
		<link>https://www.dropbox.com/s/7l1vn8uhs8grixy/FSWenergyCalibration20130625.docx</link>
		<parameter name="science_channel_conversion_table_file" default="concat_dir(getenv('STX_DET'), 'ad_energy_table.csv')" valid="file_exist(X)" type="string">
			<description>The file path to the A/D [4096] to science channel [32] conversion table.</description>
		</parameter>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
	</section>
		<section name="stx_fsw_module_intervalselection_spc" alias="ivss">
		<description>This module executes the interval selection for spectroscopy on the archive buffer and the output of the intervalselection for imaging. </description>
		<link>https://www.dropbox.com/s/ue1bvf6mz6nss9o/FSWspectrogramIntervalSelection20130716.docx</link>
		<parameter name="min_count" default="[400L, 400L]" valid="n_elements(X) eq 2" type="long_array">
			<description>Minimum number of counts in a time bin for the thermal and nonthermal band</description>
		</parameter>
		<parameter name="min_time" default="4.0d" valid="X gt 0" type="double">
			<description>the minimum time duration of a specgtroscopy interval.</description>
			<unit>seconds</unit>
		</parameter>
	</section>
	<section name="stx_fsw_module_intervalselection_img" alias="ivsi">
		<description>This module executes the interval selection for imaging on the archive buffer.</description>
		<link>https://www.dropbox.com/s/z8wtifdf8lm4n0w/FSWimagingIntervalSelection20130716.doc</link>
		<parameter name="thermal_boundary_lut_file" default="concat_dir(getenv('STX_IVS'), 'stx_ivs_thermal_boundary.lut')" valid="file_exist(X)" type="string">
			<description>The file path to the interval selection energy boundary lookup table.</description>
		</parameter>
		<parameter name="flare_magnitude_index_lut_file" default="concat_dir(getenv('STX_IVS'), 'stx_ivs_flare_magnitude_index.lut')" valid="file_exist(X)" type="string">
			<description>The file path to the flare magnitude lookup table.</description>
		</parameter>
		<parameter name="min_count_lut_file" default="concat_dir(getenv('STX_IVS'), 'stx_ivs_min_count.lut')" valid="file_exist(X)" type="string">
			<description>The file path to the minimum count lookup table.</description>
		</parameter>		
		<parameter name="min_time_lut_file" default="concat_dir(getenv('STX_IVS'), 'stx_ivs_min_time.lut')" valid="file_exist(X)" type="string">
			<description>The file path to the minimum time lookup table.</description>
		</parameter>
		<parameter name="energy_binning_lut_file" default="concat_dir(getenv('STX_IVS'), 'stx_ivs_energy_binning.lut')" valid="file_exist(X)" type="string">
			<description>The file path to the energy binning lookup table.</description>
		</parameter>
		<parameter name="detector_mask" default="byte([1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1])" valid="n_elements(X) eq 32" type="byte_array">
	    	<description>which detectors should be used for determining the flare division
	    				default: all except BKGD and CFL
	    	</description>
		</parameter>
		<parameter name="remove_background" default="1b" valid="ppl_xml_value_is_boolean(X)" type="byte">
			<description>remove the background for determining the flare division?</description>
		</parameter>
		<parameter name="split_into_rcr_blocks" default="2b" valid="X ge 0 and X le 2" type="byte">
			<description> 0: no splitting
	                      1: only on attenuator boundaries (RCR=1)
	                      2: at each rate control regime state change (RCR > 0)
	        </description>
	    </parameter>
		<parameter name="trimming_max_loss" default="0.05d" valid="X ge 0d and X le 1d" type="double">
			<description>Maximal allowed fraction of count loss for time trimming of intervals at the beginning/end of the flare. Set 0 to turn trimming of.</description>
		</parameter>
	</section>
	<section name="stx_fsw_module_eventlist_to_archive_buffer" alias="eab">
		<description>This module constructs archive buffer entries using calibrated detector event list data.</description>
		<link>https://www.dropbox.com/s/cba0uzn93c7bu68/FSWaccumulationTiming20130618.docx</link>
		<parameter name="m_acc" default="byte([1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1])" valid="n_elements(X) eq 32" type="byte_array">
			<description>32-bit mask selecting detectors to be included in the accumulation.</description>
		</parameter>
		<parameter name="m_channel" default="bytarr(32)+1b" valid="n_elements(X) eq 32" type="byte_array">
			<description>32-bit mask selecting energy channels to be used in count n_min.</description>
		</parameter>
		<parameter name="n_min" default="8000L" valid="X gt 0" type="long">
			<description>Minimum number of counts in a time bin</description>
		</parameter>
		<parameter name="t_max" default="110L" valid="X gt 0" type="long">
			<description>Maximum length of an accumulation time bin in units of 100ms.</description>
			<unit>100 milliseconds</unit>
		</parameter>
		<parameter name="t_min" default="0.1d" valid="X gt 0" type="double">
			<!-- maybe move this parameter to global -->
			<description>Minimum duration of an accumulation time bin in seconds.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="t_increment" default="100ul" valid="X gt 0" type="ulong">
			<description>Extend the end of the time_bin by this (ms).</description>
			<unit>milliseconds</unit>
		</parameter>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
	</section>
	<section name="stx_fsw_module_coarse_flare_locator" alias="cfl">
		<description>This is the coarse flare locator module.</description>
		<link>https://www.dropbox.com/s/ygg7xaqkv3f2lsa/FSWcoarseFlareLocator20131009.docx</link>
		<parameter name="update_frequency" default="8" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="energy_band" default="0" valid="X ge 0" type="int">
			<description>QL band index which will be used</description>
		</parameter>
		<parameter name="cfl_lut" default="concat_dir(getenv('STX_CFL'), 'stx_fsw_cfl_int_skyvec_table.txt')" valid="file_exist(X)" type="string">
			<description>Coarse flare locator lookup table used for calculating coarse positions of a flare.</description>
		</parameter>
		<parameter name="lower_limit_counts" default="2L^15l" valid="X gt 0" type="long">
			<description>Lower limit for total counts from all 4 quadrants.</description>
		</parameter>
		<parameter name="upper_limit_counts" default="2L^19l" valid="X gt 0" type="long">
			<description>Upper limit for total counts from all 4 quadrants.</description>
		</parameter>
		<parameter name="bkg_weigths" default="[0,1,0,0,0]" valid="total(X ge 0) eq 5" type="int_array">
			<description>Weights on the background determinations.</description>
		</parameter>
		<parameter name="out_of_range_factor" default="800" valid="X gt 0" type="int">
			<description>Parameter used to determine if flare is out of range by comparing the counts in the 4 quadrants.</description>
		</parameter>
		<parameter name="tot_bk_factor" default="10" valid="ppl_xml_value_in_interval_test(X,[1,80])" type="int">
			<description>Factor for comparing background counts to total CFL counts to determine if background level is too high.</description>
		</parameter>
		<parameter name="quad_bk_factor" default="30" valid="ppl_xml_value_in_interval_test(X,[0,500])" type="int">
			<description>Factor for subtracting background counts from counts in each quadrant.</description>
		</parameter>
		<parameter name="cfl_bk_factor" default="1" valid="ppl_xml_value_in_interval_test(X,[0,30])" type="int">
			<description>Factor for subtracting background counts from counts in each cfl pixel.</description>
		</parameter>
        <parameter name="use_last_n_intervals" default="1" valid="X gt 0" type="int">
			<description>The number of background intervals to average.</description>
		</parameter>
        <parameter name="normalisation_factor" default="[1,32,32] " valid="total(X ge 0) eq 3" type="int_array">
			<description>Factor to normalise quadrant counts and toal flux estiamate</description>
		</parameter>
	    <parameter name="no_interpolation" default="1" valid="X ge 0" type="int">
	        <description>Do not use parabolic interpoliation step</description>
	    </parameter>
	    <parameter name="crop" default="0" valid="X ge 0" type="int">
	        <description>crop outer rows and colomns from table</description>
	    </parameter>
	    <parameter name="floating_point" default="0" valid="X ge 0" type="int">
	        <description>used floating point arithmatic</description>
    	</parameter>
	</section>
	<section name="stx_fsw_module_variance_calculation" alias="vc">
		<description>Calculates count variance using data from quicklook accumulators.</description>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="no_var" default="40L" valid="X gt 0" type="long">
			<description>Number of 0.1 s accumulated intervals which the variance will be calculated over.</description>
			<unit>10 milliseconds</unit>
		</parameter>
	</section>
	<section name="stx_fsw_module_detector_monitor" alias="dm">
		<description>This module monitors the detector health and flags noisy or faulty detectors.</description>
		<link>https://www.dropbox.com/s/6vlx33an9q0s8xo/FSWdetectorFailureIdentification20130630.docx</link>
		<parameter name="update_frequency" default="8" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="kbad" default="5" valid="X gt 0" type="int">
			<description>1rst criteria, number of counts should be greater than kbad * median.</description>
		</parameter>
		<parameter name="rbad" default="300" valid="X gt 0" type="int">
			<description>Minimal number of counts for a detector to have (2nd criteria).</description>
		</parameter>
		<parameter name="nbad" default="16" valid="ppl_xml_value_in_interval_test(X,[1,16])" type="int">
			<description>Number of consecutive ql intervals to check where detector is yellow flagged. Should not be greater than 16 because the yellow flag list contains only the last 16 QL intervals.</description>
		</parameter>
		<parameter name="mbad" default="8" valid="X gt 0" type="int">
			<description>Number of QL intervals in the Nbad intervals where the detector has to be yellow flag to become red flag.</description>
		</parameter>
		<parameter name="mask" default="bytarr(32)+1b" valid="n_elements(X) eq 32" type="byte_array">
	    	<description> List of active detectors to be taken into account to run this analysis (failure detection)</description>
		</parameter>
		<parameter name="trigger_duration" default="0.00001d" valid="X gt 0" type="double">
			<!-- maybe move this parameter to global -->
			<description>The trigger duration</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="default_yellow_flag_list" default="bytarr(32,16)+1b" valid="n_elements(X) eq (16*32)" type="byte_array">
			<description>Default values for the yellow flagged detector list.</description>
		</parameter>
	</section>
	<section name="stx_fsw_module_quicklook_accumulation" alias="qla">
		<description>This module accumulates quicklook data.</description>
		<link>https://www.dropbox.com/s/36euy58cy7et9c1/AccumulatorList.xlsx</link>
		<parameter name="accumulator_definition_file" default="concat_dir(getenv('STX_CONF'), 'qlook_accumulators_fd.csv')" valid="file_exist(X)" type="string">
			<description>Path to the accumulator configuration file (CSV).</description>
		</parameter>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_lightcurve" default="4" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
			<value>4</value>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_spectra" default="32" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_bkgd_monitor" default="32" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_variance" default="4" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_flare_detection" default="4" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_flare_location_1" default="8" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_flare_location_2" default="8" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_detector_anomaly" default="8" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="reset_frequency_stx_fsw_ql_quicklook" default="4" valid="X gt 0" type="int">
			<description>Reset frequency of this quicklook accumulator (every how many seconds is the buffer saved and reset). This parameter applies to counts and trigger accumulators alike.</description>
			<unit>seconds</unit>
		</parameter>
	</section>
	
	<section name="stx_fsw_module_background_determination" alias="bgd">
		<description>This module calculates the background monitor output.</description>
		<link>https://www.dropbox.com/s/v6n0xwunjsz6rv9/FWSbackgroundDetermination20130626.docx</link>
		<parameter name="update_frequency" default="32" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="default_background" default="[1UL,1,1,1,1]" valid="n_elements(X) ge 1" type="ulong_array">
			<description>Default value for background (nql is the number of energy intervals in background accumulators)</description>
		</parameter>
		<parameter name="enable" default="1b" valid="ppl_xml_value_is_boolean(X)" type="byte">
		<!-- this is program flow and should not be in here... -->
			<description>1 if enable, 0 if disable the background determination</description>
		</parameter>
	</section>
	
	<section name="stx_fsw_module_flare_detection" alias="fd">
		<description>Generates a flag for each accumulation bin whether a flare is in progress or not, incl. a flare intensity.</description>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="nbl" default="[120.,24.]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Seconds for the median window of 2 time series.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="thermal_cfmin" default="[36,36]" valid="total(X gt 0) eq 2" type="int_array">
			<description>Count threshold to turn on a flare for both time series in the thermal band.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="nonthermal_cfmin" default="[180,180]" valid="total(X gt 0) eq 2" type="int_array">
			<description>Count threshold to turn on a flare for both time series in the nonthermal band.</description>
			<unit>counts</unit>
		</parameter>
		<parameter name="thermal_kdk" default="[0.2,0.2]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Relative kdk factor for both time series for the thermal band.</description>
			<unit>counts</unit>
		</parameter>
		<parameter name="nonthermal_kdk" default="[0.2,0.2]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Relative kdk factor for both time series for the nonthermal band.</description>
		</parameter>
		 <parameter name="thermal_krel_rise" default="[1.5,1.5]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Relative krel factor for both time series for the thermal band.</description>
		</parameter>
		<parameter name="nonthermal_krel_rise" default="[1.,1]" valid="total(X gt 0) eq 2" type="float_array">
			<description>relative krel factor for both time series for the nonthermal band.</description>
		</parameter>
		<parameter name="thermal_krel_decay" default="[0.5,0.5]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Relative krel factor for both time series for the thermal band.</description>
		</parameter>
		<parameter name="nonthermal_krel_decay" default="[0.5,0.5]" valid="total(X gt 0) eq 2" type="float_array">
			<description>relative krel factor for both time series for the nonthermal band.</description>
		</parameter>
		<parameter name="kb" default="30." valid="X gt 0" type="float">
			<description>Background scaling factor for all energies and times.</description>
		</parameter>
		<parameter name="flare_intensity_lut_file" default="concat_dir(getenv('STX_CONF'), 'stx_fsw_flare_intensity.csv')" valid="file_exist(X)" type="string">
			<description>This is a file path to the flare intensity lookup table.</description>
		</parameter>
	</section>
	<section name="stx_fsw_module_rate_control_regime" alias="rcr">
		<description>Calculates the rate control regime states.</description>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="l0" default="2*10L^3" valid="X gt 0" type="long">
			<description>Upper live time accumulator threshold for changing from C1 to C0, i.e. RCR1 to RCR0 (viz, for removing attenuator).</description>
			<value>350L</value>
		</parameter>
		<parameter name="l1" default="2*10L^5" valid="X gt 0" type="long">
			<description>Lower live time accumulator threshold for changing from C0 to C1, i.e. RCR0 to RCR1 (viz, for inserting the attenuator.)</description>
			<value>700L</value>
		</parameter>	
		<parameter name="l2" default="2*10L^5" valid="X gt 0" type="long">
			<description>Lower live tme acculator threshold for change RCR by increasing the effective detector area.</description>
			<value>1050L</value>
		</parameter>
		<parameter name="l3" default="1*10L^5" valid="X gt 0" type="long">
			<description>Upper live time accumulator threshold for changing RCR by reducing the effective detector area.</description>
			<value>1400L</value>
		</parameter>
		<parameter name="b0" default="2*10L^3" valid="X gt 0" type="long">
			<description>Upper limit on Ab (from background detector) for removing attenuator (max counts in 4s in 1 BKGD pixel for RCR1 to RCR0)</description>
		</parameter>
		<parameter name="rcr_tbl_filename" default="concat_dir( getenv('STX_CONF'), 'rcr_states.csv')" valid="file_exist(X)" type="string">
			<description>This is a file path to the rcr configuration lookup table.</description>
		</parameter>
	</section>
	<section name="stx_fsw_module_triggerlist_to_livetime" alias="t2l">
		<description>Accumulates the triggers according to the time binning of the archive buffer</description>
		<parameter name="sum_det" default="0b" valid="X ge 0" type="byte">
			<description>keep all pair of detectors?</description>
		</parameter>
		<parameter name="det_index_list" default="indgen(32)+1" valid="n_elements(X) gt 0 AND n_elements(X) le 32" type="int_array">
			<description>which detectors should be uses for the trigger accumlation</description>
		</parameter>
		<parameter name="update_frequency" default="4" valid="X gt 0" type="int">
			<description>Update frequency of this module in seconds</description>
			<unit>seconds</unit>
		</parameter>
	</section>
	<section name="stx_fsw_module_data_compression" alias="dcom">
		<description>transformes the data from archive buffer data to ivs selection combined archive buffer to summed pixels to visibilities</description>
		<link>https://www.dropbox.com/s/n1nomeukncfjnbx/FSWdataCompressionAlgorithms20130712.docx?dl=0</link>
		<parameter name="max_compression_level" default="3b" valid="X ge 0 and X lt 4" type="byte">
			<description> 0: archive buffer grouped by time
	                      1: archive buffer grouped and summed according to ivs 12 pixels
	                      2: archive buffer grouped and summed according to ivs reduced to 4 pixels
	                      3: archive buffer grouped and summed according to ivs reduced to 4 pixels and transformed to visibilities and total counts
	        </description>
	    </parameter>
	    <parameter name="L1_pixel_mask_RCR_low" default="bytarr(12)+1b" valid="n_elements(X) eq 12" type="byte_array">
	    	<description> which pixels should be packed into telemetry in RCR mode 0-4
	    				  for compression level 1
	    	</description>
		</parameter>
		<parameter name="L1_pixel_mask_RCR_high" default="[bytarr(8), bytarr(4)+1b]" valid="n_elements(X) eq 12" type="byte_array">
	    	<description> which pixels should be packed into telemetry in RCR mode 5-7 
	    				  for compression level 1
	    	</description>
		</parameter>
		<parameter name="L1_detector_mask" default="bytarr(32)+1b" valid="n_elements(X) eq 32" type="byte_array">
	    	<description> which detectors should be packed into telemetry 
	    				  for compression level 1
	    	</description>
		</parameter>
		<parameter name="L2_sumcase_lut_file" default="concat_dir(getenv('STX_CONF'), 'stx_fsw_datacompression_sumcase.csv')" valid="file_exist(X)" type="string">
			<description>This is a file path to the lookup table defining witch sumacse to use according to the rcr.</description>
		</parameter>
		<parameter name="L2_detector_mask" default="bytarr(32)+1b" valid="n_elements(X) eq 32" type="byte_array">
	    	<description> which detectors should be packed into telemetry 
	    				  for compression level 2
	    	</description>
		</parameter>
		<parameter name="L3_detector_mask" default="byte([1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1])" valid="n_elements(X) eq 32" type="byte_array">
	    	<description> which detectors should be packed into telemetry 
	    				  for compression level 3
	    	</description>
		</parameter>
		<parameter name="L3_visgen_lut_file" default="concat_dir(getenv('STX_CONF'), 'stx_fsw_datacompression_visgen.csv')" valid="file_exist(X)" type="string">
			<description>This is a file path to the lookup table defining witch how to generate visibilities according to the rcr.</description>
		</parameter>
	</section>
	<section name="stx_fsw_module_reduce_ql_spectra" alias="sp2te">
		<description>Prepares the quicklook spectra for the telemetry format</description>
		<parameter name="detector_mask" default="byte([1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1])" valid="n_elements(X) eq 32" type="byte_array">
	    	<description> which detectors should be packed into telemetry</description>
	    	<value>bytarr(32)+1b</value>
		</parameter>
		<parameter name="schema" default="0b" valid="X ge 0 and X lt 2" type="byte">
			<description> 0: one detector each 32 seconds
	                      1: all detectors at once, (for now) every 32 seconds
	        </description>
	        <value>1b</value>
	    </parameter>
	</section>
	<section name="stx_fsw_module_tmtc" alias="tmtc">
		<description>generates a tmtc dump to stream or file</description>
		
		<parameter name="ql_light_curves_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the quicklook lightcurve accumulated counts</description>
		</parameter>
		<parameter name="ql_light_curves_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the quicklook lightcurve triggers</description>
		</parameter>
		
		<parameter name="ql_background_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the quicklook background data</description>
		</parameter>
		<parameter name="ql_background_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the quicklook background triggers</description>
		</parameter>
		
		<parameter name="ql_calibration_spectrum_compression_counts" default="[0b,4b,4b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the calibration spectrum data</description>
		</parameter>
		
		<parameter name="ql_spectra_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the quicklook spectra counts</description>
		</parameter>
		<parameter name="ql_spectra_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the quicklook spectra triggers</description>
		</parameter>
		
		<parameter name="ql_variance_spectrum_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the quicklook variance data</description>
		</parameter>
		
		<parameter name="sd_xray_0_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 0 counts</description>
		</parameter>
		<parameter name="sd_xray_0_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 0 triggers</description>
		</parameter>
		
		<parameter name="sd_xray_1_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 1 counts</description>
		</parameter>
		<parameter name="sd_xray_1_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 1 triggers</description>
		</parameter>
		
		<parameter name="sd_xray_2_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 2 counts</description>
		</parameter>
		<parameter name="sd_xray_2_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 2 triggers</description>
		</parameter>
		
		<parameter name="sd_xray_3_compression_totalflux" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 3 total flux counts</description>
		</parameter>
		<parameter name="sd_xray_3_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 3 triggers</description>
		</parameter>
		<parameter name="sd_xray_3_compression_vis" default="[1b,4b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data level 3 visibility components</description>
		</parameter>
		<parameter name="sd_spectrogram_compression_counts" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data spectrogram counts</description>
		</parameter>
		<parameter name="sd_spectrogram_compression_triggers" default="[0b,5b,3b]" valid="n_elements(X) eq 3 AND total(X) eq 8" type="byte_array">
			<description>compressen parameter[s,k,m] for the science data spectrogram triggers</description>
		</parameter>
		<parameter name="ql_calibration_spectrum_subspectra_mask" default="byte([1, 0, 0, 0, 0, 0, 0, 0])" valid="n_elements(X) eq 8 AND total(X) le 8" type="byte_array">
			<description>Definition of subspectrum parameters: starting energy bin, energy bin width, number of spectral points.</description>
			<value>byte([1, 1, 1, 0, 0, 0, 0, 0])</value>
		</parameter>
		<parameter name="calibration_subspectra" default="[[0,4,32], [128,4,32], [256,4,32], [384,4,32], [512,4,32], [640,4,32], [768,4,32], [896,4,32]]" valid="(size(X,/dim))[0] eq 3  AND (size(X,/dim))[1] le 8" type="int_array">
			<description>a set of up to 8 subspectra [ad_channel_start, width, repeat] </description>
		</parameter>
	</section>
</configuration>