<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/css" href="ppl_config.css" ?>
<configuration application="stx_flight_software_simulator" type="user">
	<section name="stx_fsw_module_flare_detection" alias="fd">
		<description>Generates a flag for each accumulation bin whether a flare is in progress or not, incl. a flare intensity.</description>
		<parameter name="execution_frequency" default="1" valid="X gt 0" type="int">
			<description>Update frequency of this module in 4 seconds base interval</description>
			<unit>4 seconds</unit>
		</parameter>
		<parameter name="nbl" default="[60.,30.]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Seconds for the median window of 2 time series.</description>
			<unit>seconds</unit>
            <value>[120.,60.]</value>
		</parameter>
		<parameter name="thermal_cfmin" default="[100,10]" valid="total(X gt 0) eq 2" type="int_array">
			<description>Count threshold to turn on a flare for both time series in the thermal band.</description>
			<unit>seconds</unit>
		</parameter>
		<parameter name="nonthermal_cfmin" default="[3,3]" valid="total(X gt 0) eq 2" type="int_array">
			<description>Count threshold to turn on a flare for both time series in the nonthermal band.</description>
			<unit>counts</unit>
		</parameter>
		<parameter name="thermal_kdk" default="[0.2,0.2]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Relative kdk factor for both time series for the thermal band.</description>
			<unit>counts</unit>
            <value>[0.05,0.05]</value>
		</parameter>
		<parameter name="nonthermal_kdk" default="[0.2,0.2]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Relative kdk factor for both time series for the nonthermal band.</description>
            <value>[0.05,0.05]</value>
        </parameter>
		<parameter name="thermal_krel" default="[0.2,0.2]" valid="total(X gt 0) eq 2" type="float_array">
			<description>Relative krel factor for both time series for the thermal band.</description>
		</parameter>
		<parameter name="nonthermal_krel" default="[0.2,0.2]" valid="total(X gt 0) eq 2" type="float_array">
			<description>relative krel factor for both time series for the nonthermal band.</description>
		</parameter>
		<parameter name="kbr" default="240." valid="X gt 0" type="float">
			<description>Background scaling factor for all energies and times.</description>
		</parameter>
		<parameter name="flare_intensity_lut_file" default="concat_dir(getenv('STX_CONF'), 'stx_fsw_flare_intensity.csv')" valid="file_exist(X)" type="string">
			<description>This is a file path to the flare intensity lookup table.</description>
		</parameter>
	</section>
</configuration>