<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/css" href="ppl_config.css" ?>
<configuration application="stx_flight_software_simulator" type="user">
	<section name="stx_fsw_module_coarse_flare_locator" alias="cfl">
		<description>This is the coarse flare locator module.</description>
		<link>https://www.dropbox.com/s/ygg7xaqkv3f2lsa/FSWcoarseFlareLocator20131009.docx</link>
		<parameter name="execution_frequency" default="2" valid="X gt 0" type="int">
			<description>Update frequency of this module in 4 seconds base interval</description>
			<unit>4 seconds</unit>
		</parameter>
		<parameter name="energy_band" default="0" valid="X ge 0" type="int">
			<description>QL band index which will be used</description>
		</parameter>
		<parameter name="cfl_lut" default="concat_dir(getenv('STX_CFL'), 'stx_fsw_cfl_skyvec_table.txt')" valid="file_exist(X)" type="string">
			<description>Coarse flare locator lookup table used for calculating coarse positions of a flare.</description>
		</parameter>
		<parameter name="lower_limit_counts" default="2L^15L" valid="X gt 0" type="long">
			<description>Lower limit for total counts from all 4 quadrants.</description>
		</parameter>
		<parameter name="upper_limit_counts" default="2L^19L" valid="X gt 0" type="long">
			<description>Upper limit for total counts from all 4 quadrants.</description>
		</parameter>
		<parameter name="bkg_weigths" default="[0,1,0,0,0]" valid="total(X ge 0) eq 5" type="int_array">
			<description>Weights on the background determinations.</description>
		</parameter>
		<parameter name="out_of_range_factor" default="2." valid="X gt 0" type="float">
			<description>Parameter used to determine if flare is out of range by comparing the counts in the 4 quadrants.</description>
		</parameter>
		<parameter name="tot_bk_factor" default="0.1*30" valid="ppl_xml_value_in_interval_test(X,[0.01,0.8]*30)" type="float">
			<description>Factor for comparing background counts to total CFL counts to determine if background level is too high.</description>
		</parameter>
		<parameter name="quad_bk_factor" default="30." valid="ppl_xml_value_in_interval_test(X,[0,500])" type="float">
			<description>Factor for subtracting background counts from counts in each quadrant.</description>
		</parameter>
		<parameter name="cfl_bk_factor" default="1" valid="ppl_xml_value_in_interval_test(X,[0,30])" type="int">
			<description>Factor for subtracting background counts from counts in each cfl pixel.</description>
		</parameter>
                <parameter name="use_last_n_intervals" default="1" valid="X gt 0" type="int">
			<description>The number of background intervals to average.</description>
		</parameter>
        <parameter name="normalisation_factor" default="[0.25,0.25,0.25,0.25,1.] " valid="total(X ge 0) eq 5" type="float_array">
			<description>Factor to normalise quadrant counts and toal flux estiamate</description>
		</parameter>
	</section>
</configuration>